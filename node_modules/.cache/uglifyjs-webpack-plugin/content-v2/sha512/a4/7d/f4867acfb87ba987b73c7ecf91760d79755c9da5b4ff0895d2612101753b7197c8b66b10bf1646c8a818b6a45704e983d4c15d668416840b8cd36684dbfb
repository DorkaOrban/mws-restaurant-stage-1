{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"/\",n(n.s=2)}([function(e,t,n){\"use strict\";function r(){return!!navigator.serviceWorker||(console.log(\"The Service Worker is not compatible with this browser!\"),!1)}window.addEventListener(\"load\",function(){navigator.userAgent.toLowerCase().indexOf(\"firefox\")>-1&&void 0!==document.getElementById(\"restaurants-list\")&&null!==document.getElementById(\"restaurants-list\")&&(document.getElementById(\"restaurants-list\").style.marginLeft=\"-43px\"),r()&&(console.log(\"The Service Worker is compatible with this browser!\"),navigator.serviceWorker.register(\"sw.js\").then(function(e){console.log(\"Service Worker registration successful with scope: \",e.scope),e.waiting?console.log(\"updated sw waiting...\"):e.installing||e.addEventListener(\"updateFound\",function(){})}).catch(function(e){console.log(\"Service Worker registration failed: \",err)}),navigator.serviceWorker.addEventListener(\"controllerchange\",function(){window.location.reload()})),r()&&(navigator.serviceWorker.controller?console.log(\"This page is currently controlled by: \",navigator.serviceWorker.controller):console.log(\"This page is not currently controlled by a service worker.\"));var e=document.querySelectorAll(\".jsHomeLink\"),t=!0,n=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){a.value.href=\"./\"}}catch(e){n=!0,o=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw o}}this.fetch(\"404.html\").catch(function(e){if(\"TypeError\"===e.name){var t=document.querySelector(\".map-offline-placeholder\"),n=document.getElementById(\"map\");null!=t&&null!=n&&(n.style.display=\"none\",t.style.display=\"block\")}})})},function(e,t,n){\"use strict\";document.addEventListener(\"DOMContentLoaded\",function(e){fetchNeighborhoods(),fetchCuisines()}),fetchNeighborhoods=function(){DBHelper.fetchNeighborhoods(function(e,t){e?console.log(e):(self.neighborhoods=t,fillNeighborhoodsHTML())})},fillNeighborhoodsHTML=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:self.neighborhoods,t=document.getElementById(\"neighborhoods-select\");e.forEach(function(e){var n=document.createElement(\"option\");n.innerHTML=e,n.value=e,void 0!==t&&null!==t&&t.append(n)})},fetchCuisines=function(){DBHelper.fetchCuisines(function(e,t){e?console.log(e):(self.cuisines=t,fillCuisinesHTML())})},fillCuisinesHTML=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:self.cuisines,t=document.getElementById(\"cuisines-select\");e.forEach(function(e){var n=document.createElement(\"option\");n.innerHTML=e,n.value=e,void 0!==t&&null!==t&&t.append(n)})},window.initMap=function(){self.map=new google.maps.Map(document.getElementById(\"map\"),{zoom:12,center:{lat:40.722216,lng:-73.987501},scrollwheel:!1}),updateRestaurants()},updateRestaurants=function(){var e=document.getElementById(\"cuisines-select\"),t=document.getElementById(\"neighborhoods-select\");if(void 0!==e&&null!==e){var n=e.selectedIndex,r=t.selectedIndex,o=e[n].value,a=t[r].value;DBHelper.fetchRestaurantByCuisineAndNeighborhood(o,a,function(e,t){e?console.log(e):(resetRestaurants(t),fillRestaurantsHTML())})}},resetRestaurants=function(e){self.restaurants=[],document.getElementById(\"restaurants-list\").innerHTML=\"\",self.markers.forEach(function(e){return e.setMap(null)}),self.markers=[],self.restaurants=e},fillRestaurantsHTML=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:self.restaurants,t=document.getElementById(\"restaurants-list\");e.forEach(function(e){t.append(createRestaurantHTML(e))}),addMarkersToMap()},createRestaurantHTML=function(e){var t=document.createElement(\"li\"),n=document.createElement(\"img\");n.className=\"restaurant-img\",n.alt=e.name+\" Restaurant Image\",n.src=DBHelper.imageUrlForRestaurant(e),t.append(n);var r=document.createElement(\"h1\");r.className=\"restaurant-h1-name\",r.innerHTML=e.name,t.append(r);var o=document.createElement(\"p\");o.innerHTML=e.neighborhood,o.className=\"neighborhood-p-name\",t.append(o);var a=document.createElement(\"p\");a.innerHTML=e.address,a.className=\"address-p-name\",t.append(a);var s=document.createElement(\"a\");return s.innerHTML=\"View Details\",s.setAttribute(\"aria-label\",\"Read \"+e.name+\" restaurant details\"),s.setAttribute(\"title\",\"Read \"+e.name+\" restaurant details\"),s.href=DBHelper.urlForRestaurant(e),t.append(s),t},addMarkersToMap=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:self.restaurants).forEach(function(e){var t=DBHelper.mapMarkerForRestaurant(e,self.map);google.maps.event.addListener(t,\"click\",function(){window.location.href=t.url}),self.markers.push(t)})}},function(e,t,n){n(1),e.exports=n(0)}]);","extractedComments":[]}